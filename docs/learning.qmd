---
title: "reproducible document"
author: "Weixiao"
format: html
---

## Basic of R

```{r}
1 + 1
```

## Setup code chunk



```{r setup}
#| message :false
#| warning :false
library(tidyverse)
post_meal_data <- read_csv2(
  here::here("data/post-meal-insulin.csv")
)


small_post_meal_data <- select( post_meal_data,id,Age,BMI,Group,auc_pg,auc_ins,glykemi)
```


## About me

-weixiao wang
-the institution of endocrine and metobolic 

I am a first-year PhD student at Kiel University, studying **Internal Medicine**. I am *passionate* about research and eager to learn new skills.

## Simple code
```{r}
3 * 3
```


## Testing for Git
Today is so cloudy.
##Showing the data



```{r}
post_meal_data

```


```{r}
glimpse(post_meal_data)
```


```{r}
ggplot(post_meal_data,aes(x = BMI))  +
  geom_histogram()

```


```{r}
#| fig-cap: "Distribution of BMI"
#| label: fig-bmi-histo
ggplot(post_meal_data,aes(x = BMI))  +
  geom_histogram()
```

@fig-bmi-histo


## Exercise: discrete plots

```{r}
#| fig-cap: "Discrete of group"
#| label: fig-group-bar
ggplot(post_meal_data, aes(x = Group)) +
  geom_bar()

```

@fig-group-bar


```{r}
post_meal_data |> 
  ggplot(aes(x = Group,fill = glykemi)) + 
  geom_bar()
```



```{r}
post_meal_data |> 
  ggplot(aes(x = Group,fill = as.character(glykemi)))+ 
  geom_bar()
```


```{r}
post_meal_data |> 
  ggplot(aes(x = Group,fill = as.character(glykemi)))+ 
  geom_bar(position = position_dodge())
```
## putting two plots side by side

```{r}
ggplot(post_meal_data,aes(x = BMI))  +
  geom_histogram()

```

```{r}
ggplot(post_meal_data, aes(x = glykemi)) +
  geom_bar()
```


```{r side-by-side-figs}
#| label: "fig-bmi-glycemi"
#| fig-cap: "BMI and glycemi,side by side"
#| fig-subcap: 
#| - "Distribution of BMI"
#| - "Number of those with glycemia"
#| layout-ncol: 2

ggplot(post_meal_data,aes(x = BMI))  +
  geom_histogram()

ggplot(post_meal_data, aes(x = glykemi)) +
  geom_bar()
```


## Plotting two continuous variables

```{r}
#| fig-cap: "scatterplot showing BMI aganist AUC of bloody glucose"
#| label: fig-bmi-auc-pg
ggplot(post_meal_data,aes(x = BMI,y = auc_pg)) +
  geom_point() +
  geom_smooth()

```

## pushing changes to remote

## pulling changes locally



## selecting data

```{r}
select(post_meal_data, Age)

select(post_meal_data, Age,BMI,Weight)

select(post_meal_data, -Group)

select(post_meal_data,starts_with("PG"))

select(post_meal_data,ends_with("DXA"))

select(post_meal_data,contains("0"))



```

## renaming the specific columns

```{r}

small_post_meal_data |>
  rename(auc_glucose = auc_pg)

small_post_meal_data |>
  rename(auc_glucose = auc_pg,
         auc_insulin = auc_ins)
```




